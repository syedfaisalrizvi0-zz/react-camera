(this.webpackJsonpotube=this.webpackJsonpotube||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),i=n.n(c),o=n(9),r=n.n(o),s=(n(98),n(67)),l=n(24),j=n(85),d=n(79),u=n.n(d),b=n(162),h=n(171),g=n(163),O=n(164),m=n(165),f=n(159),x=n(160),v=n(161),p=n(158),w=n(83),C=n.n(w),B=n(157),I=n(168),N=n(84),k=n.n(N),P=n(166),S=n(167),y=n(169),L=n(170),D=n.p+"static/media/camera-shutter-click.4008e954.mp3",R=new Audio(D),F=u()((function(e){return{dialogBody:{textAlign:"center"},videoBarContainer:{position:"absolute",top:0,bottom:0,width:"100%",height:"100%",overflow:"hidden"},videoBar:{minWidth:"100%",minHeight:"100%",width:"auto",height:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%) rotateY(180deg)"},bottomIconPallate:{position:"absolute",bottom:"20px",left:"39%"},canvas:{display:"none"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},bottomIconLeftPallate:{position:"absolute",bottom:"20px",right:"8%"},previewBOx:{overflow:"hidden"},imagePreview:{maxWidth:"100%",maxHeight:"100%"},listingBox:{width:"auto",height:"100vh"},icon:{color:"rgba(255, 255, 255, 0.54)"},countdown:{position:"absolute",bottom:"50%",right:"50%"},heading:{position:"fixed",top:"50%"}}})),T=i.a.forwardRef((function(e,t){return Object(a.jsx)(B.a,Object(j.a)({direction:"up",ref:t},e))})),E=[3,5,10];var H=function(){var e=F(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),i=(n[0],n[1]),o=Object(c.useState)(0),r=Object(l.a)(o,2),j=r[0],d=r[1],u=Object(c.useState)({}),w=Object(l.a)(u,2),B=w[0],N=w[1],D=Object(c.useRef)(null),H=Object(c.useRef)({}),M=Object(c.useState)(!1),U=Object(l.a)(M,2),z=U[0],A=U[1],J=Object(c.useState)([]),W=Object(l.a)(J,2),V=W[0],Y=W[1],q=Object(c.useState)(null),G=Object(l.a)(q,2),K=(G[0],G[1]),Q=Object(c.useState)(null),X=Object(l.a)(Q,2),Z=X[0],$=X[1],_=function(){A(!1)};return Object(c.useEffect)((function(){var e=H.current;i("mediaDevices"in navigator),window.onfocus=function(){},window.onblur=function(){},navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e.srcObject=t,N(t.getVideoTracks()[0])})).catch((function(e){d(!0)}))}),[]),j?Object(a.jsx)(p.a,{variant:"h1",className:e.heading,children:"error while connecting camera"}):Object(a.jsxs)("div",{children:[Object(a.jsxs)(h.a,{fullScreen:!0,open:z,onClose:_,TransitionComponent:T,children:[Object(a.jsx)(f.a,{className:e.appBar,children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{edge:"start",color:"inherit",onClick:_,"aria-label":"close",children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(p.a,{variant:"h6",className:e.title,children:"Pictures"})]})}),Object(a.jsx)("div",{className:e.dialogBody,children:0==V.length?Object(a.jsx)(p.a,{variant:"h1",className:e.heading,children:"Please add images "}):Object(a.jsx)(b.a,{container:!0,children:Object(a.jsx)(b.a,{item:!0,xs:12,children:Object(a.jsx)("div",{className:e.listingBox,children:Object(a.jsx)(g.a,{cellHeight:160,className:e.gridList,cols:3,children:V.map((function(t,n){return Object(a.jsxs)(O.a,{cols:t.cols||1,onClick:function(){!function(e){K(V[e])}(n)},children:[Object(a.jsx)("img",{src:t}),Object(a.jsx)(m.a,{actionIcon:Object(a.jsx)(v.a,{className:e.icon,onClick:function(){!function(e){var t=document.createElement("a");t.href=V[e],t.download=100*Math.random()+".png",t.click()}(n)},children:Object(a.jsx)(P.a,{})})})]},n)}))})})})})})]}),Object(a.jsx)("canvas",{className:e.canvas,ref:D}),Object(a.jsx)("div",{className:e.videoBarContainer,children:Object(a.jsx)("video",{className:e.videoBar,ref:H,autoPlay:!0})}),Object(a.jsx)("div",{className:e.bottomIconPallate,children:Object(a.jsxs)(b.a,{container:!0,spacing:2,children:[Object(a.jsx)(b.a,{item:!0,onClick:function(){if(null!=Z)var e=Z,t=setInterval((function(){console.log(Z),e<=0&&(new ImageCapture(B).takePhoto().then((function(e){return createImageBitmap(e)})).then((function(e){var t=1e3,n=D.current.getContext("2d");D.current.width=t,D.current.height=t,n.drawImage(e,0,0,t,t),Y((function(e){return[].concat(Object(s.a)(e),[D.current.toDataURL("image/png")])}))})),$(null),R.play(),clearInterval(t)),$(e),--e}),1e3);else new ImageCapture(B).takePhoto().then((function(e){return createImageBitmap(e)})).then((function(e){var t=1e3,n=D.current.getContext("2d");n.translate(t,0),n.scale(-1,1),D.current.width=t,D.current.height=t,n.drawImage(e,0,0,t,t),Y((function(e){return[].concat(Object(s.a)(e),[D.current.toDataURL("image/png")])}))})),R.play()},children:Object(a.jsx)(S.a,{fontSize:"large"})}),Object(a.jsx)(b.a,{item:!0,onClick:function(){var e=E.indexOf(Z);-1==e?$(E[0]):e==E.length-1?$(null):e>=0&&e<E.length-1?$(E[e+1]):$(E[0])},children:Object(a.jsx)(I.a,{badgeContent:Z,color:"secondary",children:Object(a.jsx)(y.a,{fontSize:"large"})})})]})}),Object(a.jsx)("div",{className:e.bottomIconLeftPallate,children:Object(a.jsx)(L.a,{color:"secondary",onClick:function(){A(!0)},children:Object(a.jsx)(I.a,{badgeContent:V.length,color:"secondary",children:Object(a.jsx)(k.a,{})})})}),Z?Object(a.jsx)("div",{className:e.countdown,children:Object(a.jsx)(p.a,{variant:"h1",component:"h2",gutterBottom:!0,children:Z})}):""]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root")),M()},98:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.33178b92.chunk.js.map